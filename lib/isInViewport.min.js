/*
 * @author  Mudit Ameta
 * @license https://github.com/zeusdeux/isInViewport/blob/master/license.md MIT
 */
(function(e){function t(t){var n;var r=e("<div></div>").css({width:"100%"});t.append(r);n=t.width()-r.width();r.remove();return n}function n(r,i){var s=r.getBoundingClientRect();var o=s.top;var u=s.bottom;var a=s.left;var f=s.right;var l=e.extend({tolerance:0,viewport:window},i);var c=false;var h=l.viewport.get?l.viewport:e(l.viewport);if(!h.length){console.warn("isInViewport: The viewport selector you have provided matches no element on page.");console.warn("isInViewport: Defaulting to viewport as window");h=e(window)}var p=h.height();var d=h.width();var v=h.get(0).toString();var m=true;if(v!=="[object Window]"&&v!=="[object DOMWindow]"){m=false;var g=h.offset();$element=e(r);var y=$element.offset();a=y.left;f=a+$element.width();o=y.top;u=o+$element.height();o=o-g.top;u=u-g.top;a=a-g.left;f=a+d;n.scrollBarWidth=n.scrollBarWidth||t(h);d-=n.scrollBarWidth}l.tolerance=~~Math.round(parseFloat(l.tolerance));if(l.tolerance<0)l.tolerance=p+l.tolerance;if(Math.abs(a)>=d)return c;c=l.tolerance?!!(o<=l.tolerance&&u>=l.tolerance):!!(u>0&&o<=p);if(!m&&c){l.viewport=undefined;c=n(r,l)}return c}e.fn.do=function(t){if(arguments.length===1&&typeof t==="function")t=[t];if(!(t instanceof Array))throw new SyntaxError("isInViewport: Argument(s) passed to .do should be a function or an array of functions");for(var n=0;n<t.length;n++){if(typeof t[n]!=="function"){console.warn("isInViewport: Argument(s) passed to .do should be a function or an array of functions");console.warn("isInViewport: Ignoring non-function values in array and moving on");continue}for(var r=0;r<this.length;r++)t[n].call(e(this[r]))}return this};e.extend(e.expr[":"],{"in-viewport":function(e,t,r){if(!!r[3]){var i=r[3].split(",");if(i.length===1&&isNaN(i[0])){i[1]=i[0];i[0]=undefined}return n(e,{tolerance:i[0]?i[0].trim():undefined,viewport:i[1]?i[1].trim():undefined})}else return n(e)}})})(jQuery)